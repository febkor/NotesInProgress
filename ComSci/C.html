<!DOCTYPE html><html lang=en><meta http-equiv=content-type content="text/html; charset=UTF-8"><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width, initial-scale=1"><title>C | Notes in Progress</title><meta property=og:title content=C><meta name=description content=PageSubTitle><meta property=og:site_name content=Notes in progress><meta property=og:type content=article><script type=application/ld+json>
  {"@type":"BlogPosting","headline":"C","dateModified":"2019-02-09T00:00:00+00:00","datePublished":"2019-02-09T00:00:00+00:00","url":PageUrl,"mainEntityOfPage":{"@type":"WebPage","@id":PageUrl},"description":"PageSubTitle","@context":"http://schema.org"}</script><link rel=stylesheet href=https://febkor.github.io/NotesInProgress/static/main.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded",function(){for(var i,t=document.getElementsByClassName("math"),n=0;n<t.length;n++)i=t[n].firstChild,t[n].tagName=="SPAN"&&katex.render(i.data,t[n],{displayMode:t[n].classList.contains("display"),throwOnError:!1})})</script><header class=site-header role=banner><div class=wrapper><a class=site-title rel=author href=https://febkor.github.io/NotesInProgress/ >Notes in Progress</a><nav class=site-nav><input type=checkbox id=nav-trigger class=nav-trigger> <label for=nav-trigger></label></nav></div></header><main class=page-content aria-label=Content><div class=wrapper><article class="post h-entry" itemscope="" itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class="post-title p-name" itemprop="name headline">C</h1></header><div class="post-content e-content" itemprop=articleBody><h1 id=introduction>Introduction</h1><p>Phases through which a C program goes to be executed<ul><li>edit (source file <code>.c</code>)<li>pre-process (adds on header file <code>.h</code>)<li>compile (creates object files <code>.o</code>)<li>link (links with libraries <code>.lib, .dll</code>)<li>load<li>execute (<code>.exe</code> file)</ul><h2 id=a-simple-program>A simple program</h2><ul><li>pre-processor directive: eg <code>#include &lt;file.h></code>. Compiler will include the contents of <code>file.h</code> with the source code<li>the code will always start at <code>main</code><li><code>return 0</code> means the program exited normally</ul><h2 id=variables>Variables</h2><h3 id=variable-names>Variable names</h3><ul><li>Identifiers: consist of letters, digits (cannot begin with a digit) and underscores( _ )<li>Case sensitive<li>Should not use C keywords (eg <code>if</code>, <code>int</code> etc)</ul><h3 id=some-terminology>Some terminology</h3><ul><li>variable declaration: eg <code>int anInt;</code><li>assignment: <code>anInt = 5;</code></ul><h3 id=data-types>Data Types</h3><ul><li><code>char</code> : 1 byte<li><code>int</code> : 4 bytes<li><code>float</code> : 4 bytes<li><code>double</code> : 8 bytes<li>pointer : 4 bytes</ul><p>In order of promotion hierarchy<ul><li><code>long double</code><li><code>double</code><li><code>float</code><li><code>unsigned long int</code><li><code>long int</code><li><code>unsigned int</code><li><code>int</code><li><code>short</code><li><code>char</code></ul><p>Casting is the name given to converting type.
<div class=sourceCode id=cb1><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb1-1 title=1>(newType) variableOfOldType</a></code></pre></div><p>Casting to a lower type leads to loss of precision.<h2 id=operators>Operators</h2><h3 id=arithmetic-operators>Arithmetic operators</h3><p>In order of reverse precedence<ul><li><code>+</code><li><code>-</code><li><code>*</code><li><code>/</code>: division. Integer division truncates remainder <code>7/5</code> <span class="math inline">\rightarrow 1</span><li><code>%</code>: modulus. Returns the remainder <code>7%5</code> <span class="math inline">\rightarrow 2</span><li><code>()</code></ul><p>For convenience, C also has:<ul><li>Assignment operators: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code><li>Increment operators<ul><li><code>++</code>: Increment<li><code>--</code>: Decrement<li><code>++i</code>: Update the variable. Then evaluate the expression<li><code>i++</code>: Execute the expression. Then update the variable</ul></ul><h3 id=logical-operators>Logical operators</h3><ul><li><code>&amp;&amp;</code>: and<li><code>||</code>: or<li><code>!</code>: not</ul><h2 id=control-structures>Control structures</h2><ul><li>Sequence structures: programs executed sequentially by default<li>Selection structures: <code>if</code>, <code>if...else</code>, and <code>switch</code><li>Repetition structures: <code>while</code>, <code>do...while</code>, and <code>for</code></ul><h3 id=selection-structures>Selection structures</h3><ul><li>Decision: <code>if (...)</code><ul><li>execute if true:, a non-zero number eg <code>1</code><li>ignore if false: <code>0</code><li>note: C does not have the booleans ‘true’, ‘false’!</ul><li>equality<ul><li><code>==</code>: equal to<li><code>!=</code>: not equal to</ul><li>relational operators<ul><li><code>></code>: Greater than<li><code>&lt;</code>: Less than<li><code>>=</code>: Greater than or equal to<li><code>&lt;=</code>: Less than or equal to</ul></ul><h4 id=if-statement>If statement</h4>
<div class=sourceCode id=cb2><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb2-1 title=1><span class=cf>if</span> ( condition ){</a>
<a class=sourceLine id=cb2-2 title=2>    statement;</a>
<a class=sourceLine id=cb2-3 title=3>}</a>
<a class=sourceLine id=cb2-4 title=4><span class=cf>else</span> <span class=cf>if</span>( condition2 ) {</a>
<a class=sourceLine id=cb2-5 title=5>    <span class=co>// else if is optional</span></a>
<a class=sourceLine id=cb2-6 title=6>} </a>
<a class=sourceLine id=cb2-7 title=7><span class=cf>else</span> <span class=cf>if</span>( condition3 ) {</a>
<a class=sourceLine id=cb2-8 title=8>    <span class=co>// can have multiple else ifs</span></a>
<a class=sourceLine id=cb2-9 title=9>} </a>
<a class=sourceLine id=cb2-10 title=10><span class=cf>else</span> {</a>
<a class=sourceLine id=cb2-11 title=11>    <span class=co>// no condition is specified</span></a>
<a class=sourceLine id=cb2-12 title=12>    <span class=co>// else is optional</span></a>
<a class=sourceLine id=cb2-13 title=13>}</a></code></pre></div><h4 id=switch-statement>Switch statement</h4>
<div class=sourceCode id=cb3><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb3-1 title=1><span class=cf>switch</span> ( variableWithDistinctValues ) {</a>
<a class=sourceLine id=cb3-2 title=2>    <span class=cf>case</span> value1 : </a>
<a class=sourceLine id=cb3-3 title=3>        statement1;</a>
<a class=sourceLine id=cb3-4 title=4>        <span class=cf>break</span>;</a>
<a class=sourceLine id=cb3-5 title=5>    <span class=cf>case</span> value2 : </a>
<a class=sourceLine id=cb3-6 title=6>        statement2;</a>
<a class=sourceLine id=cb3-7 title=7>        <span class=cf>break</span>;</a>
<a class=sourceLine id=cb3-8 title=8>    <span class=cf>case</span> value3 : </a>
<a class=sourceLine id=cb3-9 title=9>    <span class=cf>case</span> value4 :</a>
<a class=sourceLine id=cb3-10 title=10>        statement3and4;</a>
<a class=sourceLine id=cb3-11 title=11>        <span class=cf>break</span>;</a>
<a class=sourceLine id=cb3-12 title=12>    <span class=cf>default</span>: </a>
<a class=sourceLine id=cb3-13 title=13>        statementForTheRest;</a>
<a class=sourceLine id=cb3-14 title=14>        <span class=cf>break</span>;</a>
<a class=sourceLine id=cb3-15 title=15>}</a></code></pre></div><h3 id=repetition-structures>Repetition structures</h3><h4 id=for-loops>For loops</h4>
<div class=sourceCode id=cb4><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb4-1 title=1><span class=cf>for</span> ( initialization; loopContinuationTest; increment ) {</a>
<a class=sourceLine id=cb4-2 title=2>    statement;</a>
<a class=sourceLine id=cb4-3 title=3>}</a></code></pre></div><h4 id=while-loops>While loops</h4>
<div class=sourceCode id=cb5><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb5-1 title=1>initialization;</a>
<a class=sourceLine id=cb5-2 title=2><span class=cf>while</span> ( loopContinuationTest ) {</a>
<a class=sourceLine id=cb5-3 title=3>    statement;</a>
<a class=sourceLine id=cb5-4 title=4>    increment;</a>
<a class=sourceLine id=cb5-5 title=5>}</a></code></pre></div><h4 id=do-while-loops>Do-while loops</h4><p>Same as while, but ensures that the body of the loop is executed at least once.
<div class=sourceCode id=cb6><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb6-1 title=1><span class=cf>do</span> {</a>
<a class=sourceLine id=cb6-2 title=2>    statements;</a>
<a class=sourceLine id=cb6-3 title=3>} <span class=cf>while</span> ( condition );</a></code></pre></div><h4 id=other-statements>Other statements</h4><ul><li><code>break</code> : causes immediate exit from a <code>while</code>, <code>for</code>, <code>do...while</code> or <code>switch</code> statement<li><code>continue</code> : goes to the next iteration of the loop</ul><h2 id=functions>Functions</h2>

<div class=sourceCode id=cb7><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb7-1 title=1>returnType functionName(type1 parameter1, type2 parameter2,...){</a>
<a class=sourceLine id=cb7-2 title=2>    declarations;</a>
<a class=sourceLine id=cb7-3 title=3>    statements;</a>
<a class=sourceLine id=cb7-4 title=4>    <span class=cf>return</span> expression;</a>
<a class=sourceLine id=cb7-5 title=5>}</a></code></pre></div><ul><li>If the function is to return nothing<ul><li><code>returnType</code> is <code>void</code> and<li>use <code>return;</code> or<li>leave out <code>return</code></ul><li>Functions cannot be defined inside other functions</ul><p>To call a function:
<div class=sourceCode id=cb8><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb8-1 title=1>variable = functionName(argument1, argument2, ...)</a></code></pre></div><p>If the function returns <code>void</code>, then
<div class=sourceCode id=cb9><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb9-1 title=1>functionName(argument1, argument2, ...)</a></code></pre></div><ul><li>call-by-value: <code>func(foo)</code><ul><li>copy of argument is passed to the function<li>changes to the variable thus won’t affect the original value<li>useful when a function doesn’t need to change the original variable<li>avoids accidental changes to the variable</ul><li>call-by-reference: <code>func(&amp;foo)</code><ul><li>passes the address of the original argument using <code>&amp;</code><li>changes to the variable thus will affect the original value<li>arrays are implicitly passed with <code>&amp;</code> (the array name is already an address/reference (pointer))</ul></ul><h3 id=function-prototype>Function prototype</h3><ul><li>Used to validate functions and function calls.<li>Must always be given</ul>
<div class=sourceCode id=cb10><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb10-1 title=1>returnType functionName(type1 param1, type2 param2,...);</a></code></pre></div><h3 id=header-files>Header files</h3><ul><li>contain function prototypes for library functions<ul><li>essentially a contents page, and an instruction manual for library functions</ul><li>load with:<ul><li><code>#include &lt;file></code> for system header files<li><code>#include "file"</code> for user header files</ul><li>you can create use your own function library, by creating your own header file and including it<li>benefit: allows you to reuse code you wrote before</ul><h3 id=standard-libraries>Standard libraries</h3><p>The C standard library (or libc) provides macros, type definitions and functions for common tasks.<p>See https://en.wikipedia.org/wiki/C_standard_library.<h2 id=storing-data>Storing data</h2><p>An identifier’s <em>storage class</em> determines:<ul><li>Storage duration: how long a variable exists in memory<li>Scope: where object can be referenced in program<li>Linkage: specifies the files in which an identifier is known</ul><p>Types:<ul><li>local variables<ul><li>Variables exist for certain section of program (block of code)<li>Exist while block is active<li>Destroyed when block is exited</ul><li>static storage<ul><li>Variables exist for entire program execution<li><code>static</code>: local variables defined in functions.<ul><li>Keep value after function ends<li>Only known in their own function</ul><li>Global variables and functions<ul><li>Known in any function</ul></ul></ul><dl><dt>Scope<dd>Portion of the program in which the identifier can be referenced</dl><ul><li>file scope<ul><li>Variable defined outside a function<li>Known in all functions (in file)<li>Used for global variables, function definitions, function prototypes</ul><li>block scope<ul><li>Variable declared inside a block (<code>{...}</code>)<li>Used for variables, function parameters (local variables of function)<li>Outer blocks “hidden” from inner blocks if there is a variable with the same name in the inner block</ul></ul><h4 id=symbolic-constants>Symbolic constants</h4>
<div class=sourceCode id=cb11><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb11-1 title=1><span class=pp>#define NAME VALUE</span></a></code></pre></div><ul><li>a preprocessor directive<li>the preprocessor replaces all occurrences of <code>NAME</code> with <code>VALUE</code> in the code before compiling</ul><h3 id=arrays>Arrays</h3><ul><li>Structure that stores related data items of the same data type.<li>Fixed size throughout program execution.<li>Group of consecutive memory locations<li>0-indexed<li>can operate on array elements like any other normal variable</ul><p>Declaration:
<div class=sourceCode id=cb12><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb12-1 title=1>arrayType arrayName[ numberOfElements ];</a></code></pre></div><p>Initialisation:<ul><li>can use a for-loop (loop through indices)</ul><p>An initialiser list:
<div class=sourceCode id=cb13><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb13-1 title=1><span class=dt>int</span> a[ <span class=dv>5</span> ] = { <span class=dv>1</span>, <span class=dv>2</span>, <span class=dv>3</span>, <span class=dv>4</span>, <span class=dv>5</span> };</a>
<a class=sourceLine id=cb13-2 title=2><span class=dt>int</span> b[ <span class=dv>5</span> ] = { <span class=dv>1</span> }; <span class=co>// remaining four elements default to value 0</span></a>
<a class=sourceLine id=cb13-3 title=3><span class=dt>int</span> c[ ] = { <span class=dv>1</span>, <span class=dv>2</span>, <span class=dv>3</span>, <span class=dv>4</span>, <span class=dv>5</span> }; <span class=co>// size of c will be set to 5</span></a></code></pre></div><p>Arrays and Functions:
<div class=sourceCode id=cb14><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb14-1 title=1>returnType functionName(arrayType arrayArgument[], ...);</a>
<a class=sourceLine id=cb14-2 title=2></a>
<a class=sourceLine id=cb14-3 title=3><span class=co>// To prevent the function from modifying the array, use const</span></a>
<a class=sourceLine id=cb14-4 title=4>returnType functionName(<span class=dt>const</span> arrayType arrayArgument[], ...);</a></code></pre></div><ul><li>array arguments are passed by reference<ul><li>thus any changes to the array in the function can change the data at the original memory location<li>use <code>const</code> to avoid any modification</ul><li>name of array is address of first element<li>function thus won’t know array size<li>the array size is usually passed in as a seperate argument<li>array elements (i.e. not the whole array) are passed by value<ul><li>so the original array is unaffected</ul></ul><h4 id=character-arrays>Character arrays</h4>
<div class=sourceCode id=cb15><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb15-1 title=1><span class=dt>char</span> myName[] = <span class=st>"Anton"</span>;</a>
<a class=sourceLine id=cb15-2 title=2><span class=co>// this is equivalent to the 6 characters:</span></a>
<a class=sourceLine id=cb15-3 title=3><span class=dt>char</span> myName[] = {<span class=ch>'A'</span>,<span class=ch>'n'</span>,<span class=ch>'t'</span>,<span class=ch>'o'</span>,<span class=ch>'n'</span>,'\<span class=dv>0</span><span class=er>'</span>};</a>
<a class=sourceLine id=cb15-4 title=4></a>
<a class=sourceLine id=cb15-5 title=5><span class=co>// and is also mostly equivalent to:</span></a>
<a class=sourceLine id=cb15-6 title=6><span class=dt>char</span>* myName = <span class=st>"Anton"</span>;</a></code></pre></div><ul><li>The string is a static array of characters.<li>The null character <code>'\0'</code> terminates strings<li>Can array index into strings: <code>myName[0]</code> is <code>'A'</code><li>The array’s name is the address of the array (i.e. the array identifier is already a pointer)</ul><p>e.g.
<div class=sourceCode id=cb16><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb16-1 title=1><span class=dt>char</span> yourName[<span class=dv>10</span>];</a>
<a class=sourceLine id=cb16-2 title=2>scanf(<span class=st>"%s"</span>, yourName); <span class=co>// Note: no &amp;</span></a>
<a class=sourceLine id=cb16-3 title=3><span class=co>// This reads characters until a whitespace is encountered. </span></a>
<a class=sourceLine id=cb16-4 title=4><span class=co>// So if you enter "Anton Tang", yourName would just be</span></a>
<a class=sourceLine id=cb16-5 title=5><span class=co>// Anton</span></a></code></pre></div><h4 id=multidimensional-arrays>Multidimensional arrays</h4><p>e.g. This declares and initialises a <span class="math inline">2 \times 2</span> matrix:
<div class=sourceCode id=cb17><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb17-1 title=1><span class=dt>int</span> my2dArray[<span class=dv>2</span>][<span class=dv>2</span>] = {{<span class=dv>1</span>, <span class=dv>2</span>}, {<span class=dv>3</span>, <span class=dv>4</span>}};</a>
<a class=sourceLine id=cb17-2 title=2><span class=co>// my2dArray[1][0] is then 3</span></a></code></pre></div><ul><li>initialisers grouped by row<li>unspecified elements default to <code>0</code></ul><h3 id=enumerations>Enumerations</h3><ul><li>suitable for storing distinct but related items<li>make code easy to use and understand</ul><p>Definition:
<div class=sourceCode id=cb18><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb18-1 title=1><span class=kw>enum</span> EnumName { item1, item2, item3, ...};</a></code></pre></div><p>Example:
<div class=sourceCode id=cb19><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb19-1 title=1><span class=co>// definition</span></a>
<a class=sourceLine id=cb19-2 title=2><span class=kw>enum</span> Weekday { Monday, Tuesday, Wednesday, Thursday, Friday}; </a>
<a class=sourceLine id=cb19-3 title=3></a>
<a class=sourceLine id=cb19-4 title=4><span class=kw>enum</span> Weekday today; <span class=co>// declaration</span></a>
<a class=sourceLine id=cb19-5 title=5>today = Thursday; <span class=co>// assignment</span></a>
<a class=sourceLine id=cb19-6 title=6></a>
<a class=sourceLine id=cb19-7 title=7><span class=cf>if</span> (today == Friday){</a>
<a class=sourceLine id=cb19-8 title=8>    printf(<span class=st>"It's the weekend! Nearly..."</span>);</a>
<a class=sourceLine id=cb19-9 title=9>}</a></code></pre></div><h3 id=structures>Structures</h3><p>Collections of related variables (aggregates) under one name.
<div class=sourceCode id=cb20><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb20-1 title=1><span class=co>// definition</span></a>
<a class=sourceLine id=cb20-2 title=2><span class=kw>struct</span> structName{</a>
<a class=sourceLine id=cb20-3 title=3>    dataType1 varName1;</a>
<a class=sourceLine id=cb20-4 title=4>    dataType2 varName2;</a>
<a class=sourceLine id=cb20-5 title=5>    ...</a>
<a class=sourceLine id=cb20-6 title=6>}; <span class=co>// NB: need ";" here!</span></a>
<a class=sourceLine id=cb20-7 title=7></a>
<a class=sourceLine id=cb20-8 title=8><span class=co>// declaration and initialisation</span></a>
<a class=sourceLine id=cb20-9 title=9><span class=kw>struct</span> structName structVar = {value1, value2, ...};</a>
<a class=sourceLine id=cb20-10 title=10><span class=co>// note that above there are two parts to the struct type </span></a>
<a class=sourceLine id=cb20-11 title=11></a>
<a class=sourceLine id=cb20-12 title=12><span class=co>// declaring and initialing pointer to a struct</span></a>
<a class=sourceLine id=cb20-13 title=13><span class=kw>struct</span> *sPtr;</a>
<a class=sourceLine id=cb20-14 title=14>sPtr = &amp;structVar;</a></code></pre></div><ul><li>Variables in a structure are called members of the structure<li>Can contain members of different data types<li>Combined with pointers, can create linked lists, stacks, queues, and trees.<li>Can’t contain a member which is another struct of the same type.<li>Can contain a member that is a pointer to the same structure type.<li>A structure definition does not reserve space in memory<ul><li>Instead creates a new data type used to define structure variables</ul></ul><h4 id=accessing-struct-members>Accessing struct members</h4><ul><li>Dot operator (<code>.</code>): when you have the structure name<ul><li>Note: <code>++C.x</code> is <code>C.x = C.x + 1</code></ul><li>Arrow operator (<code>-></code>): when you have a pointer to the structure.</ul>
<div class=sourceCode id=cb21><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb21-1 title=1>structVar.varName1 = value1;</a>
<a class=sourceLine id=cb21-2 title=2>(*sPtr).varName1 = value1;</a>
<a class=sourceLine id=cb21-3 title=3>sPtr->varName1 = value1;</a></code></pre></div><h4 id=defining-custom-types>Defining custom types</h4><ul><li>Use <code>typedef</code><li>Creates synonyms (aliases) for previously defined data types<ul><li>useful for structs<li>can be used for any variable (not just structs)</ul><li>Use typedef to create shorter type names</ul>
<div class=sourceCode id=cb22><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb22-1 title=1><span class=co>// Option 1</span></a>
<a class=sourceLine id=cb22-2 title=2><span class=kw>struct</span> coord {</a>
<a class=sourceLine id=cb22-3 title=3>    <span class=dt>double</span> x;</a>
<a class=sourceLine id=cb22-4 title=4>    <span class=dt>double</span> y;</a>
<a class=sourceLine id=cb22-5 title=5>};</a>
<a class=sourceLine id=cb22-6 title=6></a>
<a class=sourceLine id=cb22-7 title=7><span class=kw>typedef</span> <span class=kw>struct</span> coord Point;</a>
<a class=sourceLine id=cb22-8 title=8>Point pa, pb;</a>
<a class=sourceLine id=cb22-9 title=9></a>
<a class=sourceLine id=cb22-10 title=10><span class=co>// without typedef</span></a>
<a class=sourceLine id=cb22-11 title=11><span class=kw>struct</span> coord pa, pb; <span class=co>// annoying</span></a></code></pre></div>
<div class=sourceCode id=cb23><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb23-1 title=1><span class=co>// Option 2</span></a>
<a class=sourceLine id=cb23-2 title=2><span class=kw>typedef</span> <span class=kw>struct</span> {</a>
<a class=sourceLine id=cb23-3 title=3>    <span class=dt>double</span> x;</a>
<a class=sourceLine id=cb23-4 title=4>    <span class=dt>double</span> y;</a>
<a class=sourceLine id=cb23-5 title=5>} Point;</a>
<a class=sourceLine id=cb23-6 title=6></a>
<a class=sourceLine id=cb23-7 title=7>Point pa, pb;</a></code></pre></div><p>We can also define an integer pointer type <code>typedef int * IntPtrType;</code><h2 id=pointers>Pointers</h2><p>Types of variables<ul><li>scalar variable<li>array variable<li>pointer variable</ul><p>Pointers:<ul><li>pointers store the memory location of a value.<li>simulate call-by-reference<li>each variable has a<ul><li>name<li>value<li>address</ul><li>direct reference: access variable’s value through variable name<li>indirect reference: access variable’s value through the pointer<li>indirection: using an address to access a variable</ul><p>Declaration:
<div class=sourceCode id=cb24><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb24-1 title=1>pointerType *pointerName;</a>
<a class=sourceLine id=cb24-2 title=2>pointerType *pointer1, scalar;</a></code></pre></div><ul><li>can define pointers to any data type<li>initialise pointers to <code>0</code>, <code>NULL</code>, or an address<li><code>&amp;</code> returns address of operand<li><code>*</code> is used for pointer declaration<li><code>*</code> also provides access to memory/variable that its operand points to<ul><li>can be used to read/change the value</ul><li>the dereferenced pointer (operator of <code>*</code>) must be an address<li><code>&amp;</code> and <code>*</code> are inverses<li>to use <code>NULL</code>, include <code>stdio.h</code> first<ul><li>eg check if null-pointer: <code>if (myPointer == NULL) { ... }</code></ul></ul><h3 id=pointer-expressions>Pointer expressions</h3><p>Arithmetic operations can be performed on pointers<ul><li>Usually only useful if performed on/for arrays<li>Increment/decrement <code>++</code>, <code>--</code><li>Add an integer to a pointer( <code>+</code> or <code>+=</code>, <code>-</code> or <code>-=</code>)<li>Can subtract pointers from each other<li>Comparison (<code>&lt;</code>, <code>==</code>, <code>></code>)<li>Pointers of the same type can be assigned to each other<ul><li>If not the same type, a cast operator must be used<li>No casting needed to convert to void pointer (represents any type)<li>Void pointers can’t be dereferenced</ul></ul><h3 id=pointers-and-arrays>Pointers and arrays</h3><p>Array elements can be accesed by:<ul><li>pointer/offset notation<ul><li><code>*( arraypointer + i)</code></ul><li>pointer/subscript notation<ul><li><code>arraypointer[ i ]</code></ul><li>pointer/offset notation with array name<ul><li><code>*( array + i)</code></ul><li>array subscript notation<ul><li><code>array[ i ]</code></ul></ul><p>The above is easy to remember once you realise that <code>array</code> and <code>arraypointer</code> are just aliases.
<div class=sourceCode id=cb25><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb25-1 title=1><span class=dt>float</span> f[<span class=dv>5</span>];</a>
<a class=sourceLine id=cb25-2 title=2><span class=dt>float</span> *fptr = &amp;f[<span class=dv>0</span>];</a>
<a class=sourceLine id=cb25-3 title=3>fptr++; <span class=co>// moves the address 4 (8) bytes forward on 32 (64)-bit machines</span></a></code></pre></div><h3 id=using-constant-qualifier>Using constant qualifier</h3>
<div class=sourceCode id=cb26><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb26-1 title=1><span class=dt>const</span> dataType variableName = variableValue;</a>
<a class=sourceLine id=cb26-2 title=2><span class=co>// compiler will complain if you try to change this variable</span></a></code></pre></div><p>Combinations possible<ol type=1><li>non-constant pointer to non-constant data<li>non-constant pointer to constant data<li>constant pointer to non-constant data: must be initiliased at declaration<li>constant pointer to constant data: must be initiliased at declaration</ol>
<div class=sourceCode id=cb27><pre class="sourceCode c"><code class="sourceCode c"><a class=sourceLine id=cb27-1 title=1><span class=dt>int</span> *myPtr;                     <span class=co>// 1</span></a>
<a class=sourceLine id=cb27-2 title=2><span class=dt>const</span> <span class=dt>int</span> *myPtr;               <span class=co>// 2</span></a>
<a class=sourceLine id=cb27-3 title=3><span class=dt>int</span> * <span class=dt>const</span> myPtr = &amp;x;         <span class=co>// 3</span></a>
<a class=sourceLine id=cb27-4 title=4><span class=dt>const</span> <span class=dt>int</span> * <span class=dt>const</span> myPtr = &amp;x;   <span class=co>// 4</span></a></code></pre></div><p>When to use which combination?<ul><li>Applicable to argument declaration when writing function definitions<li>Use the principle of least privilege<li>Prevents errors – ensures that your function does not accidentally alter data</ul><h3 id=sizeof-operator><code>sizeof</code> operator</h3><ul><li>Returns size of operand in bytes<li>For arrays: (size of 1 element) <span class="math inline">\times</span> (number of elements)<li>can be used with<ul><li>type name (eg <code>int</code>, <code>myStructType</code>)<li>variable names (eg <code>myInt</code>, <code>myStructVar</code>)<li>constant values (eg <code>19</code>)</ul><li><code>sizeof(</code> array <code>)</code> returns amount of memory consumed by all array elements.<ul><li>but this only works inside the scope where the array is defined.<li>if an array is passed to a function, <code>sizeof</code> cannot determine the memory size used by the array.</ul><li>also useful to reserve memory for structs<ul><li>use <code>sizeof( myStructType )</code> or <code>sizeof( myStructVariable)</code></ul></ul></div><a class=u-url href=C hidden=""></a></article></div></main><footer class="site-footer h-card"><data class=u-url href=/ ></data><div class=wrapper><h2 class=footer-heading>Notes in Progress</h2><div class=footer-col-wrapper><div class="footer-col footer-col-1"><ul class=contact-list><li class=p-name>febkor<li><a class=u-email href=""></a></ul></div></div><div class="footer-col footer-col-3"><p></div></div></footer>