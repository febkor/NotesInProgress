<!DOCTYPE html><html lang=en><head><meta http-equiv=content-type content="text/html; charset=UTF-8"><meta name=viewport content="width=device-width, initial-scale=1"><title>C | Notes in Progress</title><meta name=robots content=noindex><meta property=og:title content=C><meta property=og:site_name content=Notes in progress><meta property=og:type content=article><script type=application/ld+json>
  {"@type":"BlogPosting","headline":"Notes in Progress","dateModified":"2019-02-09T00:00:00+00:00","datePublished":"2019-02-09T00:00:00+00:00","url":https://febkor.github.io/NotesInProgress,"mainEntityOfPage":{"@type":"WebPage","@id":https://febkor.github.io/NotesInProgress},"description":"Notes","@context":"http://schema.org"}</script><link rel=stylesheet href=https://febkor.github.io/NotesInProgress/static/main.css><link rel="shortcut icon" type=image/x-icon href=https://febkor.github.io/NotesInProgress/static/favicon.ico><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.css crossorigin=anonymous><script defer src=https://cdn.jsdelivr.net/npm/katex@0.10.2/dist/katex.min.js crossorigin=anonymous></script><script>document.addEventListener("DOMContentLoaded", function () {
    var mathElements = document.getElementsByClassName("math");
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") { katex.render(texText.data, mathElements[i], { displayMode: mathElements[i].classList.contains("display"), throwOnError: false } );
    }}});</script></head><body><header class=site-header role=banner><div class=wrapper><a class=site-title rel=author href=https://febkor.github.io/NotesInProgress>Notes in Progress</a><nav class=site-nav><input type=checkbox id=nav-trigger class=nav-trigger><label for=nav-trigger></label></nav></div></header><main class=page-content aria-label=Content><div class=wrapper><article class="post h-entry" itemscope itemtype=http://schema.org/BlogPosting><header class=post-header><h1 class="post-title p-name" itemprop="name headline">C</h1></header><div class="post-content e-content" itemprop=articleBody><h1 id=introduction>Introduction</h1><p>Phases through which a C program goes to be executed</p><ul><li>edit (source file <code>.c</code>)</li><li>pre-process (adds on header file <code>.h</code>)</li><li>compile (creates object files <code>.o</code>) <ul><li>compiler: translates C code into assembly</li><li>assembler: translates assembly into machine code</li></ul></li><li>link (links with libraries <code>.lib, .dll</code>) <ul><li>combines the machine code from various libraries</li><li>determines branch addresses, variable locations</li></ul></li><li>load (load the program into memory)</li><li>execute (<code>.exe</code> file)</li></ul><h2 id=a-simple-program>A simple program</h2><ul><li>pre-processor directive: eg <code>#include &lt;file.h&gt;</code>. Compiler will include the contents of <code>file.h</code> with the source code</li><li>the code will always start at <code>main</code></li><li><code>return 0</code> means the program exited normally</li></ul><h2 id=variables>Variables</h2><h3 id=variable-names>Variable names</h3><ul><li>Identifiers: consist of letters, digits (cannot begin with a digit) and underscores( _ )</li><li>Case sensitive</li><li>Should not use C keywords (eg <code>if</code>, <code>int</code> etc)</li></ul><h3 id=some-terminology>Some terminology</h3><ul><li>variable declaration: eg <code>int anInt;</code></li><li>assignment: <code>anInt = 5;</code></li></ul><h3 id=data-types>Data Types</h3><ul><li><code>char</code> : 1 byte</li><li><code>int</code> : 4 bytes (machine-dependent)</li><li><code>float</code> : 4 bytes</li><li><code>double</code> : 8 bytes</li><li>pointer : 4 bytes</li></ul><p>In order of promotion hierarchy</p><ul><li><code>long double</code></li><li><code>double</code></li><li><code>float</code></li><li><code>unsigned long int</code></li><li><code>long int</code></li><li><code>unsigned int</code></li><li><code>int</code></li><li><code>short</code></li><li><code>char</code></li></ul><p>Casting is the name given to converting type.</p><div class=sourceCode id=cb1><pre class="sourceCode c"><code class="sourceCode c"><span id=cb1-1><a href=#cb1-1 aria-hidden=true></a>(newType) variableOfOldType</span></code></pre></div><p>Casting to a lower type leads to loss of precision.</p><p>Can get finer control over the integer size by using <code>int8_t</code>, <code>int16_t</code>, <code>int32_t</code>, <code>int64_t</code>, <code>uint8_t</code>, etc.</p><h2 id=operators>Operators</h2><h3 id=arithmetic-operators>Arithmetic operators</h3><p>In order of reverse precedence</p><ul><li><code>+</code></li><li><code>-</code></li><li><code>*</code></li><li><code>/</code>: division. Integer division truncates remainder <code>7/5</code><span class="math inline">\rightarrow 1</span></li><li><code>%</code>: modulus. Returns the remainder <code>7%5</code><span class="math inline">\rightarrow 2</span></li><li><code>()</code></li></ul><p>For convenience, C also has:</p><ul><li>Assignment operators: <code>+=</code>, <code>-=</code>, <code>*=</code>, <code>/=</code>, <code>%=</code></li><li>Increment operators <ul><li><code>++</code>: Increment</li><li><code>--</code>: Decrement</li><li><code>++i</code>: Update the variable. Then evaluate the expression</li><li><code>i++</code>: Execute the expression. Then update the variable</li></ul></li></ul><h3 id=logical-operators>Logical operators</h3><ul><li><code>&amp;&amp;</code>: and</li><li><code>||</code>: or</li><li><code>!</code>: not</li></ul><h3 id=bitwise-operators>Bitwise operators</h3><ul><li><code>&amp;</code>: and</li><li><code>|</code>: or</li><li><code>^</code>: xor</li><li><code>~</code>: not</li><li><code>&lt;&lt;</code>: left shift</li><li><code>&gt;&gt;</code>: right shift</li></ul><h2 id=control-structures>Control structures</h2><ul><li>Sequence structures: programs executed sequentially by default</li><li>Selection structures: <code>if</code>, <code>if...else</code>, and <code>switch</code></li><li>Repetition structures: <code>while</code>, <code>do...while</code>, and <code>for</code></li></ul><h3 id=selection-structures>Selection structures</h3><ul><li>Decision: <code>if (...)</code><ul><li>execute if true:, a non-zero number eg <code>1</code></li><li>ignore if false: <code>0</code></li><li>note: C does not have the booleans &#x2018;true&#x2019;, &#x2018;false&#x2019;!</li></ul></li><li>equality <ul><li><code>==</code>: equal to</li><li><code>!=</code>: not equal to</li></ul></li><li>relational operators <ul><li><code>&gt;</code>: Greater than</li><li><code>&lt;</code>: Less than</li><li><code>&gt;=</code>: Greater than or equal to</li><li><code>&lt;=</code>: Less than or equal to</li></ul></li></ul><h4 id=if-statement>If statement</h4><div class=sourceCode id=cb2><pre class="sourceCode c"><code class="sourceCode c"><span id=cb2-1><a href=#cb2-1 aria-hidden=true></a><span class=cf>if</span> ( condition ){</span>
<span id=cb2-2><a href=#cb2-2 aria-hidden=true></a>    statement;</span>
<span id=cb2-3><a href=#cb2-3 aria-hidden=true></a>}</span>
<span id=cb2-4><a href=#cb2-4 aria-hidden=true></a><span class=cf>else</span> <span class=cf>if</span>( condition2 ) {</span>
<span id=cb2-5><a href=#cb2-5 aria-hidden=true></a>    <span class=co>// else if is optional</span></span>
<span id=cb2-6><a href=#cb2-6 aria-hidden=true></a>} </span>
<span id=cb2-7><a href=#cb2-7 aria-hidden=true></a><span class=cf>else</span> <span class=cf>if</span>( condition3 ) {</span>
<span id=cb2-8><a href=#cb2-8 aria-hidden=true></a>    <span class=co>// can have multiple else ifs</span></span>
<span id=cb2-9><a href=#cb2-9 aria-hidden=true></a>} </span>
<span id=cb2-10><a href=#cb2-10 aria-hidden=true></a><span class=cf>else</span> {</span>
<span id=cb2-11><a href=#cb2-11 aria-hidden=true></a>    <span class=co>// no condition is specified</span></span>
<span id=cb2-12><a href=#cb2-12 aria-hidden=true></a>    <span class=co>// else is optional</span></span>
<span id=cb2-13><a href=#cb2-13 aria-hidden=true></a>}</span></code></pre></div><h4 id=switch-statement>Switch statement</h4><div class=sourceCode id=cb3><pre class="sourceCode c"><code class="sourceCode c"><span id=cb3-1><a href=#cb3-1 aria-hidden=true></a><span class=cf>switch</span> ( variableWithDistinctValues ) {</span>
<span id=cb3-2><a href=#cb3-2 aria-hidden=true></a>    <span class=cf>case</span> value1 : </span>
<span id=cb3-3><a href=#cb3-3 aria-hidden=true></a>        statement1;</span>
<span id=cb3-4><a href=#cb3-4 aria-hidden=true></a>        <span class=cf>break</span>;</span>
<span id=cb3-5><a href=#cb3-5 aria-hidden=true></a>    <span class=cf>case</span> value2 : </span>
<span id=cb3-6><a href=#cb3-6 aria-hidden=true></a>        statement2;</span>
<span id=cb3-7><a href=#cb3-7 aria-hidden=true></a>        <span class=cf>break</span>;</span>
<span id=cb3-8><a href=#cb3-8 aria-hidden=true></a>    <span class=cf>case</span> value3 : </span>
<span id=cb3-9><a href=#cb3-9 aria-hidden=true></a>    <span class=cf>case</span> value4 :</span>
<span id=cb3-10><a href=#cb3-10 aria-hidden=true></a>        statement3and4;</span>
<span id=cb3-11><a href=#cb3-11 aria-hidden=true></a>        <span class=cf>break</span>;</span>
<span id=cb3-12><a href=#cb3-12 aria-hidden=true></a>    <span class=cf>default</span>: </span>
<span id=cb3-13><a href=#cb3-13 aria-hidden=true></a>        statementForTheRest;</span>
<span id=cb3-14><a href=#cb3-14 aria-hidden=true></a>        <span class=cf>break</span>;</span>
<span id=cb3-15><a href=#cb3-15 aria-hidden=true></a>}</span></code></pre></div><h3 id=repetition-structures>Repetition structures</h3><h4 id=for-loops>For loops</h4><div class=sourceCode id=cb4><pre class="sourceCode c"><code class="sourceCode c"><span id=cb4-1><a href=#cb4-1 aria-hidden=true></a><span class=cf>for</span> ( initialization; loopContinuationTest; increment ) {</span>
<span id=cb4-2><a href=#cb4-2 aria-hidden=true></a>    statement;</span>
<span id=cb4-3><a href=#cb4-3 aria-hidden=true></a>}</span></code></pre></div><p>Can have multiple initializations, increments.</p><p>e.g.&#xA0;<code>for (i = 0, j = 0; j+i &lt;= 10; j++, i+=5) { ... }</code></p><h4 id=while-loops>While loops</h4><div class=sourceCode id=cb5><pre class="sourceCode c"><code class="sourceCode c"><span id=cb5-1><a href=#cb5-1 aria-hidden=true></a>initialization;</span>
<span id=cb5-2><a href=#cb5-2 aria-hidden=true></a><span class=cf>while</span> ( loopContinuationTest ) {</span>
<span id=cb5-3><a href=#cb5-3 aria-hidden=true></a>    statement;</span>
<span id=cb5-4><a href=#cb5-4 aria-hidden=true></a>    increment;</span>
<span id=cb5-5><a href=#cb5-5 aria-hidden=true></a>}</span></code></pre></div><h4 id=do-while-loops>Do-while loops</h4><p>Same as while, but ensures that the body of the loop is executed at least once.</p><div class=sourceCode id=cb6><pre class="sourceCode c"><code class="sourceCode c"><span id=cb6-1><a href=#cb6-1 aria-hidden=true></a><span class=cf>do</span> {</span>
<span id=cb6-2><a href=#cb6-2 aria-hidden=true></a>    statements;</span>
<span id=cb6-3><a href=#cb6-3 aria-hidden=true></a>} <span class=cf>while</span> ( condition );</span></code></pre></div><h4 id=other-statements>Other statements</h4><ul><li><code>break</code> : causes immediate exit from a <code>while</code>, <code>for</code>, <code>do...while</code> or <code>switch</code> statement</li><li><code>continue</code> : goes to the next iteration of the loop</li></ul><p>Unstructured control flow</p><p><code>goto</code> (avoid, unless you really what you&#x2019;re doing and it is the cleanest approach).</p><div class=sourceCode id=cb7><pre class="sourceCode c"><code class="sourceCode c"><span id=cb7-1><a href=#cb7-1 aria-hidden=true></a>    ...</span>
<span id=cb7-2><a href=#cb7-2 aria-hidden=true></a>    <span class=cf>goto</span> foo;</span>
<span id=cb7-3><a href=#cb7-3 aria-hidden=true></a>    ...</span>
<span id=cb7-4><a href=#cb7-4 aria-hidden=true></a></span>
<span id=cb7-5><a href=#cb7-5 aria-hidden=true></a>foo:</span>
<span id=cb7-6><a href=#cb7-6 aria-hidden=true></a>    ...</span></code></pre></div><p>They are useful for - breaking out of deeply nested loops - handling errors, exceptions - cleans up opened resources - jumping to some code if allocation fails</p><p>Exceptions are used to break out of a deep call stack quickly. Similar to gotos for breaking out of loops, but here applied to function calls. <code>setjmp, longjmp</code></p><h2 id=functions>Functions</h2><div class=sourceCode id=cb8><pre class="sourceCode c"><code class="sourceCode c"><span id=cb8-1><a href=#cb8-1 aria-hidden=true></a>returnType functionName(type1 parameter1, type2 parameter2,...){</span>
<span id=cb8-2><a href=#cb8-2 aria-hidden=true></a>    declarations;</span>
<span id=cb8-3><a href=#cb8-3 aria-hidden=true></a>    statements;</span>
<span id=cb8-4><a href=#cb8-4 aria-hidden=true></a>    <span class=cf>return</span> expression;</span>
<span id=cb8-5><a href=#cb8-5 aria-hidden=true></a>}</span></code></pre></div><ul><li>If the function is to return nothing <ul><li><code>returnType</code> is <code>void</code> and</li><li>use <code>return;</code> or</li><li>leave out <code>return</code></li></ul></li><li>Functions cannot be defined inside other functions</li></ul><p>To call a function:</p><div class=sourceCode id=cb9><pre class="sourceCode c"><code class="sourceCode c"><span id=cb9-1><a href=#cb9-1 aria-hidden=true></a>variable = functionName(argument1, argument2, ...)</span></code></pre></div><p>If the function returns <code>void</code>, then</p><div class=sourceCode id=cb10><pre class="sourceCode c"><code class="sourceCode c"><span id=cb10-1><a href=#cb10-1 aria-hidden=true></a>functionName(argument1, argument2, ...)</span></code></pre></div><ul><li>call-by-value: <code>func(foo)</code><ul><li>copy of argument is passed to the function</li><li>changes to the variable thus won&#x2019;t affect the original value</li><li>useful when a function doesn&#x2019;t need to change the original variable</li><li>avoids accidental changes to the variable</li></ul></li><li>call-by-reference: <code>func(&amp;foo)</code><ul><li>passes the address of the original argument using <code>&amp;</code></li><li>changes to the variable thus will affect the original value</li><li>arrays are implicitly passed with <code>&amp;</code> (the array name is already an address/reference (pointer))</li></ul></li></ul><p>All C functions are technically pass-by-value. For the &#x201C;pass-by-reference&#x201D; concepts defined above, what actually happens is that a copy of the pointer is passed to the function. Incrementing the pointer inside the function, does not change the original pointer.</p><h3 id=function-prototype>Function prototype</h3><ul><li>Used to validate functions and function calls.</li><li>Must always be given</li></ul><div class=sourceCode id=cb11><pre class="sourceCode c"><code class="sourceCode c"><span id=cb11-1><a href=#cb11-1 aria-hidden=true></a>returnType functionName(type1 param1, type2 param2,...);</span></code></pre></div><h3 id=header-files>Header files</h3><ul><li>contain function prototypes for library functions <ul><li>essentially a contents page, and an instruction manual for library functions</li></ul></li><li>load with: <ul><li><code>#include &lt;file&gt;</code> for system header files</li><li><code>#include "file"</code> for user header files</li></ul></li><li>you can create use your own function library, by creating your own header file and including it</li><li>benefit: allows you to reuse code you wrote before</li></ul><h3 id=standard-libraries>Standard libraries</h3><p>The C standard library (or libc) provides macros, type definitions and functions for common tasks.</p><p>See https://en.wikipedia.org/wiki/C_standard_library.</p><h2 id=storing-data>Storing data</h2><p>An identifier&#x2019;s <em>storage class</em> determines:</p><ul><li>Storage duration: how long a variable exists in memory</li><li>Scope: where object can be referenced in program</li><li>Linkage: specifies the files in which an identifier is known</li></ul><p>Types:</p><ul><li>local variables <ul><li>Variables exist for certain section of program (block of code)</li><li>Exist while block is active</li><li>Destroyed when block is exited</li></ul></li><li>static storage <ul><li>Variables exist for entire program execution</li><li><code>static</code>: local variables defined in functions. <ul><li>Keep value after function ends</li><li>Only known in their own function</li></ul></li><li>Global variables and functions <ul><li>Known in any function</li></ul></li></ul></li></ul><dl><dt>Scope</dt><dd>Portion of the program in which the identifier can be referenced </dd></dl><ul><li>file scope <ul><li>Variable defined outside a function</li><li>Known in all functions (in file)</li><li>Used for global variables, function definitions, function prototypes</li></ul></li><li>block scope <ul><li>Variable declared inside a block (<code>{...}</code>)</li><li>Used for variables, function parameters (local variables of function)</li><li>Outer blocks &#x201C;hidden&#x201D; from inner blocks if there is a variable with the same name in the inner block</li></ul></li></ul><h4 id=symbolic-constants>Symbolic constants</h4><div class=sourceCode id=cb12><pre class="sourceCode c"><code class="sourceCode c"><span id=cb12-1><a href=#cb12-1 aria-hidden=true></a><span class=pp>#define NAME VALUE</span></span></code></pre></div><ul><li>a preprocessor directive</li><li>the preprocessor replaces all occurrences of <code>NAME</code> with <code>VALUE</code> in the code before compiling</li></ul><h3 id=arrays>Arrays</h3><ul><li>Structure that stores related data items of the same data type.</li><li>Fixed size throughout program execution.</li><li>Group of consecutive memory locations</li><li>0-indexed</li><li>can operate on array elements like any other normal variable</li></ul><p>Declaration:</p><div class=sourceCode id=cb13><pre class="sourceCode c"><code class="sourceCode c"><span id=cb13-1><a href=#cb13-1 aria-hidden=true></a>arrayType arrayName[ numberOfElements ];</span></code></pre></div><p>Initialisation:</p><ul><li>can use a for-loop (loop through indices)</li></ul><p>An initialiser list:</p><div class=sourceCode id=cb14><pre class="sourceCode c"><code class="sourceCode c"><span id=cb14-1><a href=#cb14-1 aria-hidden=true></a><span class=dt>int</span> a[ <span class=dv>5</span> ] = { <span class=dv>1</span>, <span class=dv>2</span>, <span class=dv>3</span>, <span class=dv>4</span>, <span class=dv>5</span> };</span>
<span id=cb14-2><a href=#cb14-2 aria-hidden=true></a><span class=dt>int</span> b[ <span class=dv>5</span> ] = { <span class=dv>1</span> }; <span class=co>// remaining four elements default to value 0</span></span>
<span id=cb14-3><a href=#cb14-3 aria-hidden=true></a><span class=dt>int</span> c[ ] = { <span class=dv>1</span>, <span class=dv>2</span>, <span class=dv>3</span>, <span class=dv>4</span>, <span class=dv>5</span> }; <span class=co>// size of c will be set to 5</span></span></code></pre></div><p>Arrays and Functions:</p><div class=sourceCode id=cb15><pre class="sourceCode c"><code class="sourceCode c"><span id=cb15-1><a href=#cb15-1 aria-hidden=true></a>returnType functionName(arrayType arrayArgument[], ...);</span>
<span id=cb15-2><a href=#cb15-2 aria-hidden=true></a></span>
<span id=cb15-3><a href=#cb15-3 aria-hidden=true></a><span class=co>// To prevent the function from modifying the array, use const</span></span>
<span id=cb15-4><a href=#cb15-4 aria-hidden=true></a>returnType functionName(<span class=dt>const</span> arrayType arrayArgument[], ...);</span></code></pre></div><ul><li>array arguments are passed by reference <ul><li>thus any changes to the array in the function can change the data at the original memory location</li><li>use <code>const</code> to avoid any modification</li></ul></li><li>name of array is address of first element</li><li>function thus won&#x2019;t know array size</li><li>the array size is usually passed in as a seperate argument</li><li>array elements (i.e.&#xA0;not the whole array) are passed by value <ul><li>so the original array is unaffected</li></ul></li></ul><h4 id=character-arrays>Character arrays</h4><div class=sourceCode id=cb16><pre class="sourceCode c"><code class="sourceCode c"><span id=cb16-1><a href=#cb16-1 aria-hidden=true></a><span class=dt>char</span> myName[] = <span class=st>&quot;Anton&quot;</span>;</span>
<span id=cb16-2><a href=#cb16-2 aria-hidden=true></a><span class=co>// this is equivalent to the 6 characters:</span></span>
<span id=cb16-3><a href=#cb16-3 aria-hidden=true></a><span class=dt>char</span> myName[] = {<span class=ch>&#39;A&#39;</span>,<span class=ch>&#39;n&#39;</span>,<span class=ch>&#39;t&#39;</span>,<span class=ch>&#39;o&#39;</span>,<span class=ch>&#39;n&#39;</span>,<span class=ch>&#39;\0&#39;</span>};</span>
<span id=cb16-4><a href=#cb16-4 aria-hidden=true></a></span>
<span id=cb16-5><a href=#cb16-5 aria-hidden=true></a><span class=co>// and is also mostly equivalent to:</span></span>
<span id=cb16-6><a href=#cb16-6 aria-hidden=true></a><span class=dt>char</span>* myName = <span class=st>&quot;Anton&quot;</span>;</span></code></pre></div><ul><li>The string is a static array of characters.</li><li>The null character <code>'\0'</code> terminates strings</li><li>Can array index into strings: <code>myName[0]</code> is <code>'A'</code></li><li>The array&#x2019;s name is the address of the array (i.e.&#xA0;the array identifier is already a pointer)</li></ul><p>e.g.</p><div class=sourceCode id=cb17><pre class="sourceCode c"><code class="sourceCode c"><span id=cb17-1><a href=#cb17-1 aria-hidden=true></a><span class=dt>char</span> yourName[<span class=dv>10</span>];</span>
<span id=cb17-2><a href=#cb17-2 aria-hidden=true></a>scanf(<span class=st>&quot;%s&quot;</span>, yourName); <span class=co>// Note: no &amp;</span></span>
<span id=cb17-3><a href=#cb17-3 aria-hidden=true></a><span class=co>// This reads characters until a whitespace is encountered. </span></span>
<span id=cb17-4><a href=#cb17-4 aria-hidden=true></a><span class=co>// So if you enter &quot;Anton Tang&quot;, yourName would just be</span></span>
<span id=cb17-5><a href=#cb17-5 aria-hidden=true></a><span class=co>// Anton</span></span></code></pre></div><h4 id=multidimensional-arrays>Multidimensional arrays</h4><p>e.g.&#xA0;This declares and initialises a <span class="math inline">2 \times 2</span> matrix:</p><div class=sourceCode id=cb18><pre class="sourceCode c"><code class="sourceCode c"><span id=cb18-1><a href=#cb18-1 aria-hidden=true></a><span class=dt>int</span> my2dArray[<span class=dv>2</span>][<span class=dv>2</span>] = {{<span class=dv>1</span>, <span class=dv>2</span>}, {<span class=dv>3</span>, <span class=dv>4</span>}};</span>
<span id=cb18-2><a href=#cb18-2 aria-hidden=true></a><span class=co>// my2dArray[1][0] is then 3</span></span></code></pre></div><ul><li>initialisers grouped by row</li><li>unspecified elements default to <code>0</code></li></ul><h3 id=enumerations>Enumerations</h3><ul><li>basically integers</li><li>suitable for storing distinct but related items</li><li>make code easy to use and understand</li></ul><p>Definition:</p><div class=sourceCode id=cb19><pre class="sourceCode c"><code class="sourceCode c"><span id=cb19-1><a href=#cb19-1 aria-hidden=true></a><span class=kw>enum</span> EnumName { item1, item2, item3, ...};</span></code></pre></div><p>Example:</p><div class=sourceCode id=cb20><pre class="sourceCode c"><code class="sourceCode c"><span id=cb20-1><a href=#cb20-1 aria-hidden=true></a><span class=co>// definition</span></span>
<span id=cb20-2><a href=#cb20-2 aria-hidden=true></a><span class=kw>enum</span> Weekday { Mon, Tues, Wed, Thurs, Fri}; </span>
<span id=cb20-3><a href=#cb20-3 aria-hidden=true></a></span>
<span id=cb20-4><a href=#cb20-4 aria-hidden=true></a><span class=kw>enum</span> Weekday today; <span class=co>// declaration</span></span>
<span id=cb20-5><a href=#cb20-5 aria-hidden=true></a>today = Thurs; <span class=co>// assignment</span></span>
<span id=cb20-6><a href=#cb20-6 aria-hidden=true></a></span>
<span id=cb20-7><a href=#cb20-7 aria-hidden=true></a><span class=cf>if</span> (today == Fri){</span>
<span id=cb20-8><a href=#cb20-8 aria-hidden=true></a>    printf(<span class=st>&quot;It&#39;s the weekend! Nearly...&quot;</span>);</span>
<span id=cb20-9><a href=#cb20-9 aria-hidden=true></a>}</span>
<span id=cb20-10><a href=#cb20-10 aria-hidden=true></a></span>
<span id=cb20-11><a href=#cb20-11 aria-hidden=true></a><span class=kw>typedef</span> <span class=kw>enum</span> WeekDay weekday_t;</span>
<span id=cb20-12><a href=#cb20-12 aria-hidden=true></a>weekday_t blues = Mon;</span></code></pre></div><h3 id=structures>Structures</h3><p>Collections of related variables (aggregates) under one name.</p><div class=sourceCode id=cb21><pre class="sourceCode c"><code class="sourceCode c"><span id=cb21-1><a href=#cb21-1 aria-hidden=true></a><span class=co>// definition</span></span>
<span id=cb21-2><a href=#cb21-2 aria-hidden=true></a><span class=kw>struct</span> structName{</span>
<span id=cb21-3><a href=#cb21-3 aria-hidden=true></a>    dataType1 varName1;</span>
<span id=cb21-4><a href=#cb21-4 aria-hidden=true></a>    dataType2 varName2;</span>
<span id=cb21-5><a href=#cb21-5 aria-hidden=true></a>    ...</span>
<span id=cb21-6><a href=#cb21-6 aria-hidden=true></a>}; <span class=co>// NB: need &quot;;&quot; here!</span></span>
<span id=cb21-7><a href=#cb21-7 aria-hidden=true></a></span>
<span id=cb21-8><a href=#cb21-8 aria-hidden=true></a><span class=co>// declaration and initialisation</span></span>
<span id=cb21-9><a href=#cb21-9 aria-hidden=true></a><span class=kw>struct</span> structName structVar = {value1, value2, ...};</span>
<span id=cb21-10><a href=#cb21-10 aria-hidden=true></a><span class=co>// note that above there are two parts to the struct type </span></span>
<span id=cb21-11><a href=#cb21-11 aria-hidden=true></a></span>
<span id=cb21-12><a href=#cb21-12 aria-hidden=true></a><span class=co>// declaring and initialing pointer to a struct</span></span>
<span id=cb21-13><a href=#cb21-13 aria-hidden=true></a><span class=kw>struct</span> *sPtr;</span>
<span id=cb21-14><a href=#cb21-14 aria-hidden=true></a>sPtr = &amp;structVar;</span></code></pre></div><ul><li>Variables in a structure are called members of the structure</li><li>Can contain members of different data types</li><li>Combined with pointers, can create linked lists, stacks, queues, and trees.</li><li>Can&#x2019;t contain a member which is another struct of the same type.</li><li>Can contain a member that is a pointer to the same structure type.</li><li>A structure definition does not reserve space in memory <ul><li>Instead creates a new data type used to define structure variables</li></ul></li><li>A struct is basically syntactic sugar for referring to chunks of memory</li><li>There may be gaps between members</li></ul><h4 id=accessing-struct-members>Accessing struct members</h4><ul><li>Dot operator (<code>.</code>): when you have the structure name <ul><li>Note: <code>++C.x</code> is <code>C.x = C.x + 1</code></li></ul></li><li>Arrow operator (<code>-&gt;</code>): when you have a pointer to the structure.</li></ul><div class=sourceCode id=cb22><pre class="sourceCode c"><code class="sourceCode c"><span id=cb22-1><a href=#cb22-1 aria-hidden=true></a>structVar.varName1 = value1;</span>
<span id=cb22-2><a href=#cb22-2 aria-hidden=true></a>(*sPtr).varName1 = value1;</span>
<span id=cb22-3><a href=#cb22-3 aria-hidden=true></a>sPtr-&gt;varName1 = value1;</span></code></pre></div><h4 id=defining-custom-types>Defining custom types</h4><ul><li>Use <code>typedef</code></li><li>Creates synonyms (aliases) for previously defined data types <ul><li>useful for structs</li><li>can be used for any variable (not just structs)</li></ul></li><li>Use typedef to create shorter type names</li></ul><div class=sourceCode id=cb23><pre class="sourceCode c"><code class="sourceCode c"><span id=cb23-1><a href=#cb23-1 aria-hidden=true></a><span class=co>// Option 1</span></span>
<span id=cb23-2><a href=#cb23-2 aria-hidden=true></a><span class=kw>struct</span> coord {</span>
<span id=cb23-3><a href=#cb23-3 aria-hidden=true></a>    <span class=dt>double</span> x;</span>
<span id=cb23-4><a href=#cb23-4 aria-hidden=true></a>    <span class=dt>double</span> y;</span>
<span id=cb23-5><a href=#cb23-5 aria-hidden=true></a>};</span>
<span id=cb23-6><a href=#cb23-6 aria-hidden=true></a></span>
<span id=cb23-7><a href=#cb23-7 aria-hidden=true></a><span class=kw>typedef</span> <span class=kw>struct</span> coord Point;</span>
<span id=cb23-8><a href=#cb23-8 aria-hidden=true></a>Point pa, pb;</span>
<span id=cb23-9><a href=#cb23-9 aria-hidden=true></a></span>
<span id=cb23-10><a href=#cb23-10 aria-hidden=true></a><span class=co>// without typedef</span></span>
<span id=cb23-11><a href=#cb23-11 aria-hidden=true></a><span class=kw>struct</span> coord pa, pb; <span class=co>// annoying</span></span></code></pre></div><div class=sourceCode id=cb24><pre class="sourceCode c"><code class="sourceCode c"><span id=cb24-1><a href=#cb24-1 aria-hidden=true></a><span class=co>// Option 2</span></span>
<span id=cb24-2><a href=#cb24-2 aria-hidden=true></a><span class=kw>typedef</span> <span class=kw>struct</span> {</span>
<span id=cb24-3><a href=#cb24-3 aria-hidden=true></a>    <span class=dt>double</span> x;</span>
<span id=cb24-4><a href=#cb24-4 aria-hidden=true></a>    <span class=dt>double</span> y;</span>
<span id=cb24-5><a href=#cb24-5 aria-hidden=true></a>} Point;</span>
<span id=cb24-6><a href=#cb24-6 aria-hidden=true></a></span>
<span id=cb24-7><a href=#cb24-7 aria-hidden=true></a>Point pa, pb;</span></code></pre></div><p>We can also define an integer pointer type <code>typedef int * IntPtrType;</code></p><h3 id=unions>Unions</h3><p>Allows for the same memory space to be interpreted as multiple types.</p><div class=sourceCode id=cb25><pre class="sourceCode c"><code class="sourceCode c"><span id=cb25-1><a href=#cb25-1 aria-hidden=true></a><span class=kw>union</span> myunion {</span>
<span id=cb25-2><a href=#cb25-2 aria-hidden=true></a>    <span class=dt>int</span> x;</span>
<span id=cb25-3><a href=#cb25-3 aria-hidden=true></a>    <span class=kw>struct</span> {</span>
<span id=cb25-4><a href=#cb25-4 aria-hidden=true></a>        <span class=dt>char</span> s1;</span>
<span id=cb25-5><a href=#cb25-5 aria-hidden=true></a>        <span class=dt>char</span> s2;</span>
<span id=cb25-6><a href=#cb25-6 aria-hidden=true></a>    } s;</span>
<span id=cb25-7><a href=#cb25-7 aria-hidden=true></a>};</span>
<span id=cb25-8><a href=#cb25-8 aria-hidden=true></a></span>
<span id=cb25-9><a href=#cb25-9 aria-hidden=true></a><span class=kw>union</span> myunion y;</span></code></pre></div><h2 id=pointers>Pointers</h2><p>Types of variables</p><ul><li>scalar variable</li><li>array variable</li><li>pointer variable</li></ul><p>Pointers:</p><ul><li>pointers store the memory location of a value.</li><li>simulate call-by-reference</li><li>each variable has a <ul><li>name</li><li>value</li><li>address</li></ul></li><li>direct reference: access variable&#x2019;s value through variable name</li><li>indirect reference: access variable&#x2019;s value through the pointer</li><li>indirection: using an address to access a variable</li></ul><p>Declaration:</p><div class=sourceCode id=cb26><pre class="sourceCode c"><code class="sourceCode c"><span id=cb26-1><a href=#cb26-1 aria-hidden=true></a>pointerType *pointerName;</span>
<span id=cb26-2><a href=#cb26-2 aria-hidden=true></a>pointerType *pointer1, scalar;</span></code></pre></div><ul><li>can define pointers to any data type</li><li>initialise pointers to <code>0</code>, <code>NULL</code>, or an address</li><li><code>&amp;</code> returns address of operand</li><li><code>*</code> is used for pointer declaration</li><li><code>*</code> also provides access to memory/variable that its operand points to <ul><li>can be used to read/change the value</li></ul></li><li>the dereferenced pointer (operator of <code>*</code>) must be an address</li><li><code>&amp;</code> and <code>*</code> are inverses</li><li>to use <code>NULL</code>, include <code>stdio.h</code> first <ul><li>eg check if null-pointer: <code>if (myPointer == NULL) { ... }</code></li></ul></li></ul><h3 id=pointer-expressions>Pointer expressions</h3><p>Arithmetic operations can be performed on pointers</p><ul><li>Usually only useful if performed on/for arrays</li><li>Increment/decrement <code>++</code>, <code>--</code></li><li>Add an integer to a pointer( <code>+</code> or <code>+=</code>, <code>-</code> or <code>-=</code>)</li><li>Can subtract pointers from each other</li><li>Comparison (<code>&lt;</code>, <code>==</code>, <code>&gt;</code>)</li><li>Pointers of the same type can be assigned to each other <ul><li>If not the same type, a cast operator must be used</li><li>No casting needed to convert to void pointer (represents any type)</li><li>Void pointers can&#x2019;t be dereferenced</li></ul></li></ul><h3 id=pointers-and-arrays>Pointers and arrays</h3><p>Array elements can be accesed by:</p><ul><li>pointer/offset notation <ul><li><code>*( arraypointer + i)</code></li></ul></li><li>pointer/subscript notation <ul><li><code>arraypointer[ i ]</code></li></ul></li><li>pointer/offset notation with array name <ul><li><code>*( array + i)</code></li></ul></li><li>array subscript notation <ul><li><code>array[ i ]</code></li></ul></li></ul><p>The above is easy to remember once you realise that <code>array</code> and <code>arraypointer</code> are just aliases.</p><div class=sourceCode id=cb27><pre class="sourceCode c"><code class="sourceCode c"><span id=cb27-1><a href=#cb27-1 aria-hidden=true></a><span class=dt>float</span> f[<span class=dv>5</span>];</span>
<span id=cb27-2><a href=#cb27-2 aria-hidden=true></a><span class=dt>float</span> *fptr = &amp;f[<span class=dv>0</span>];</span>
<span id=cb27-3><a href=#cb27-3 aria-hidden=true></a>fptr++; <span class=co>// moves the address 4 (8) bytes forward on 32 (64)-bit machines</span></span></code></pre></div><h3 id=using-constant-qualifier>Using constant qualifier</h3><div class=sourceCode id=cb28><pre class="sourceCode c"><code class="sourceCode c"><span id=cb28-1><a href=#cb28-1 aria-hidden=true></a><span class=dt>const</span> dataType variableName = variableValue;</span>
<span id=cb28-2><a href=#cb28-2 aria-hidden=true></a><span class=co>// compiler will complain if you try to change this variable</span></span></code></pre></div><p>Combinations possible</p><ol type=1><li>non-constant pointer to non-constant data</li><li>non-constant pointer to constant data</li><li>constant pointer to non-constant data: must be initiliased at declaration</li><li>constant pointer to constant data: must be initiliased at declaration</li></ol><div class=sourceCode id=cb29><pre class="sourceCode c"><code class="sourceCode c"><span id=cb29-1><a href=#cb29-1 aria-hidden=true></a><span class=dt>int</span> *myPtr;                     <span class=co>// 1</span></span>
<span id=cb29-2><a href=#cb29-2 aria-hidden=true></a><span class=dt>const</span> <span class=dt>int</span> *myPtr;               <span class=co>// 2</span></span>
<span id=cb29-3><a href=#cb29-3 aria-hidden=true></a><span class=dt>int</span> * <span class=dt>const</span> myPtr = &amp;x;         <span class=co>// 3</span></span>
<span id=cb29-4><a href=#cb29-4 aria-hidden=true></a><span class=dt>const</span> <span class=dt>int</span> * <span class=dt>const</span> myPtr = &amp;x;   <span class=co>// 4</span></span></code></pre></div><p>When to use which combination?</p><ul><li>Applicable to argument declaration when writing function definitions</li><li>Use the principle of least privilege</li><li>Prevents errors &#x2013; ensures that your function does not accidentally alter data</li></ul><h3 id=function-pointers>Function pointers</h3><div class=sourceCode id=cb30><pre class="sourceCode c"><code class="sourceCode c"><span id=cb30-1><a href=#cb30-1 aria-hidden=true></a><span class=dt>int</span> min(<span class=dt>int</span> a, <span class=dt>int</span> b);</span>
<span id=cb30-2><a href=#cb30-2 aria-hidden=true></a><span class=dt>int</span> max(<span class=dt>int</span> a, <span class=dt>int</span> b);</span>
<span id=cb30-3><a href=#cb30-3 aria-hidden=true></a></span>
<span id=cb30-4><a href=#cb30-4 aria-hidden=true></a><span class=dt>int</span> foo(<span class=dt>bool</span> do_min, <span class=dt>int</span> a, <span class=dt>int</span> b) {</span>
<span id=cb30-5><a href=#cb30-5 aria-hidden=true></a>    <span class=dt>int</span> (*func)(<span class=dt>int</span>,<span class=dt>int</span>); <span class=co>// declaration</span></span>
<span id=cb30-6><a href=#cb30-6 aria-hidden=true></a>    <span class=cf>if</span> (do_min)</span>
<span id=cb30-7><a href=#cb30-7 aria-hidden=true></a>        func = min;</span>
<span id=cb30-8><a href=#cb30-8 aria-hidden=true></a>    <span class=cf>else</span></span>
<span id=cb30-9><a href=#cb30-9 aria-hidden=true></a>        func = max;</span>
<span id=cb30-10><a href=#cb30-10 aria-hidden=true></a>     <span class=co>// indirect call</span></span>
<span id=cb30-11><a href=#cb30-11 aria-hidden=true></a>    <span class=cf>return</span> func(a, b);</span>
<span id=cb30-12><a href=#cb30-12 aria-hidden=true></a>}</span></code></pre></div><h3 id=sizeof-operator><code>sizeof</code> operator</h3><ul><li>Returns size of operand in bytes</li><li>For arrays: (size of 1 element) <span class="math inline">\times</span> (number of elements)</li><li>can be used with <ul><li>type name (eg <code>int</code>, <code>myStructType</code>)</li><li>variable names (eg <code>myInt</code>, <code>myStructVar</code>)</li><li>constant values (eg <code>19</code>)</li></ul></li><li><code>sizeof(</code> array <code>)</code> returns amount of memory consumed by all array elements. <ul><li>but this only works inside the scope where the array is defined.</li><li>if an array is passed to a function, <code>sizeof</code> cannot determine the memory size used by the array.</li></ul></li><li>also useful to reserve memory for structs <ul><li>use <code>sizeof( myStructType )</code> or <code>sizeof( myStructVariable)</code></li></ul></li></ul><h2 id=advanced>Advanced</h2><h3 id=inline-assembly>Inline assembly</h3><ul><li>if no C statement exists for the task</li><li>if you want direct control over the assembly generated</li></ul><div class=sourceCode id=cb31><pre class="sourceCode c"><code class="sourceCode c"><span id=cb31-1><a href=#cb31-1 aria-hidden=true></a>asm(<span class=st>&quot;code&quot;</span>);</span>
<span id=cb31-2><a href=#cb31-2 aria-hidden=true></a>asm(<span class=st>&quot;code&quot;</span>: output); <span class=co>// asm to C</span></span>
<span id=cb31-3><a href=#cb31-3 aria-hidden=true></a>asm(<span class=st>&quot;code&quot;</span>: ... : input); <span class=co>// C to C</span></span></code></pre></div></article></div></main><footer class="site-footer h-card"><data href=/ class=u-url></data><div class=wrapper><h2 class=footer-heading>Notes in Progress</h2><div class=footer-col-wrapper><div class="footer-col footer-col-1"><ul class=contact-list><li class=p-name>febkor</li></ul></div></div></div></div></footer></body></html>